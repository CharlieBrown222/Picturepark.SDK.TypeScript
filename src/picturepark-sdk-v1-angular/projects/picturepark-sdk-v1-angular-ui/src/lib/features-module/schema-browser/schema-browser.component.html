<div class="content-browser" cdkScrollable>
  <div class="content-browser__header">
    <mat-toolbar>
      <div class="content-browser__toolbar">
        <div class="content-browser__spacer"></div>
        <span *ngIf="totalResults !== null" class="content-browser__items-count mat-body-1">{{ totalResults }} {{'SchemasLowercase' | pptranslate}}</span>

        <button mat-icon-button [matMenuTriggerFor]="sortMenu" matTooltip="{{'Sort' | pptranslate}}">
          <mat-icon aria-label="Select sorting">sort</mat-icon>
        </button>

        <mat-menu #sortMenu="matMenu">
          <div matMenuContent>
            <button mat-menu-item [disabled]="(activeSortingType | async )  && ((activeSortingType | async) === SchemaSortingType.relevance)" (click)="update(SortDirection.Asc);">
              <span>{{'Ascending' | pptranslate}}</span>
              <mat-icon *ngIf="(activeSortDirection | async) === SortDirection.Asc && ((activeSortingType | async) !== SchemaSortingType.relevance)">check</mat-icon>
            </button>
            <button mat-menu-item [disabled]="(activeSortingType | async) === SchemaSortingType.relevance" (click)="update(SortDirection.Desc);">
              <span>{{'Descending'| pptranslate}}</span>
              <mat-icon *ngIf="(activeSortDirection | async) === SortDirection.Desc && ((activeSortingType | async) !== SchemaSortingType.relevance)">check</mat-icon>
            </button>
            <mat-divider></mat-divider>
            <ng-container [ngSwitch]="activeSortingType | async">
              <button mat-menu-item (click)="setSortingType(SchemaSortingType.relevance)">
                <span>{{'Relevance'| pptranslate}}</span>
                <mat-icon *ngSwitchCase="SchemaSortingType.relevance">check</mat-icon>
              </button>
              <button mat-menu-item (click)="setSortingType(SchemaSortingType.fileName)">
                <span>{{'Title'| pptranslate}}</span>
                <mat-icon *ngSwitchCase="SchemaSortingType.fileName">check</mat-icon>
              </button>
              <button mat-menu-item (click)="setSortingType(SchemaSortingType.dateCreated)">
                <span>{{'DateCreated'| pptranslate}}</span>
                <mat-icon *ngSwitchCase="SchemaSortingType.dateCreated">check</mat-icon>
              </button>
              <button mat-menu-item (click)="setSortingType(SchemaSortingType.dateModified)">
                <span>{{'DateModified'| pptranslate}}</span>
                <mat-icon *ngSwitchCase="SchemaSortingType.dateModified">check</mat-icon>
              </button>
            </ng-container>
          </div>

        </mat-menu>
      </div>
    </mat-toolbar>
  </div>
  <div *ngIf="totalResults !== 0" class="content-browser__items">
    <div class="content-browser__item-container" *ngFor="let schema of schemas; let i = index; trackBy: trackById">
      <pp-schema-browser-item [schema]="schema" (activeSchemaChange)="setUpActiveSchema($event)"></pp-schema-browser-item>
    </div>
  </div>

  <div *ngIf="totalResults === 0" class="content-browser__empty-result mat-typography">
    {{ 'ItemsWereNotFound' | pptranslate}}
  </div>
</div>