<div class="browser-item" [class.browser-item--selected]="itemModel.isSelected" [class.browser-item--list-view]="isListView">
  <div class="browser-item__image-slot">
    <div class="browser-item__image-container" (lazyload)="markAsVisible()" *ngIf="virtualItemHtml === null; else virtualContent">
      <mat-spinner *ngIf="isLoading"></mat-spinner>
      <img *ngIf="!isLoading" class="browser-item__image" [src]="thumbnailUrl" [alt]="'ContentBrowser.NoImageForItem' | pptranslate" />
    </div>

    <ng-template #virtualContent>
      <div class="browser-item__image-virtual-item-container" [innerHTML]="virtualItemHtml"></div>
    </ng-template>

    <div class="browser-item__actions">
      <ul>
        <li>
          <button mat-icon-button *ngIf="browser.configActions['preview']" (click)="previewItem(); $event.stopPropagation()" [matTooltip]="'ContentBrowser.Details' | pptranslate">
            <mat-icon aria-label="Preview content item">open_in_new</mat-icon>
          </button>
        </li>
        <li>
          <button mat-icon-button *ngIf="browser.configActions['download']" (click)="downloadItem(); $event.stopPropagation()" [matTooltip]="'ContentBrowser.DownloadItem' | pptranslate">
            <mat-icon aria-label="Download item">get_app</mat-icon>
          </button>
        </li>
      </ul>
    </div>
    <div class="browser-item__thumbnail-overlay" *ngIf="itemModel.item.displayValues['thumbnail']">{{ itemModel.item.displayValues['thumbnail'] }}</div>
  </div>
  <div *ngIf="thumbnailSize !== thumbnailSizes.Small" class="browser-item__title mat-subheading-2">
    <div class="browser-item__title__title-content">{{ itemModel.item.displayValues!['name'] || 'n/a'}}</div>
    <div class="mat-subheading-1" *ngIf="isListView" [innerHtml]="listItemHtml || 'n/a'"></div>
  </div>
  <button 
    *ngIf="browser.configActions['basket']"
    mat-mini-fab 
    class="browser-item__basket-icon" 
    (click)="toggleInBasket(); $event.stopPropagation()"
    [class.browser-item__basket-icon--selected]="itemModel.isInBasket"
    [color]="itemModel.isInBasket ? 'accent' : 'basic'"
    [matTooltip]="(itemModel.isInBasket ? 'ContentBrowser.RemoveFromBasket' : 'ContentBrowser.AddToBasket') | pptranslate">
    <mat-icon aria-label="Add item to basket">add</mat-icon>
  </button>
</div>
